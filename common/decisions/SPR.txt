SPR_el_turno_category = {

	SPR_liberal_reform_one = { #Ease the workload
		icon = GFX_decision_eng_trade_unions_support
		allowed = {
			original_tag = SPR
		} 
		available = {
			AND = {		
				has_global_flag = liberal_majority
				NOT = { has_global_flag = conservative_majority }
			}
		}
		visible = {
			always = yes
		}
		cost = 50
		days_re_enable = 50
		days_remove = 75
		modifier = {
			industrial_capacity_factory = -0.05
		}
		remove_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.03
			}
			country_event = ww1_spain.133
			add_stability = 0.03
		}
		
		priority = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				is_historical_focus_on = no
			}
		}
	}
	
	SPR_liberal_reform_two = { #Spend more on People
		icon = GFX_decision_generic_fundraising
		allowed = {
			original_tag = SPR
		}
		available = {
			AND = {		
				has_global_flag = new_liberal_spanish_prime_minister_in_office
				NOT = { has_global_flag = new_conservative_spanish_prime_minister_in_office }
			}
		}
		visible = {
			has_completed_focus = SPR_liberal_majority
		}

		cost = 125
		days_re_enable = 50
		days_remove = 100
		modifier = {
			consumer_goods_factor = 0.05
		}
		remove_effect = {
			add_stability = 0.05
			if = {
				limit = { 
					AND = {
						has_completed_focus = SPR_liberal_majority
						NOT = { has_completed_focus = SPR_seperation_of_powers }
						NOT = { has_completed_focus = SPR_religous_freedom }
						NOT = { has_completed_focus = SPR_extensive_legislative_reforms }
					}
				}
				complete_national_focus = SPR_extensive_legislative_reforms
			}
			if = {
				limit = { 
					AND = {
						has_completed_focus = SPR_liberal_majority
						NOT = { has_completed_focus = SPR_seperation_of_powers }
						NOT = { has_completed_focus = SPR_religous_freedom }
						has_completed_focus = SPR_extensive_legislative_reforms
					}
				}
				complete_national_focus = SPR_religious_freedom
			}
			if = {
				limit = { 
					AND = {
						has_completed_focus = SPR_liberal_majority
						NOT = { has_completed_focus = SPR_seperation_of_powers }
						has_completed_focus = SPR_religous_freedom
						has_completed_focus = SPR_extensive_legislative_reforms
					}
				}
				complete_national_focus = SPR_seperation_of_powers
			}
		}
		priority = 6
	}
	
	SPR_conservative_reform_one = {
		icon = GFX_decision_generic_fundraising
		allowed = {
			original_tag = SPR
		}
		available = {
			AND = {		
				has_global_flag = conservative_majority
				NOT = { has_global_flag = liberal_majority }
			}
		}	
		visible = {
			always = yes
		}

		cost = 50
		days_re_enable = 50
		days_remove = 100
		modifier = {
			political_power_factor = -0.15
		}
		remove_effect = {
			add_stability = 0.05
			add_popularity = {
				ideology = neutrality
				popularity = 0.03
			}
			country_event = ww1_spain.131
			add_stability = 0.03
		}
		priority = 7
	}
	SPR_conservative_reform_two = { #Divert towards Nationalism
		icon = GFX_decision_generic_fundraising
		allowed = {
			original_tag = SPR
		}
		available = {
			AND = {		
				has_global_flag = new_conservative_spanish_prime_minister_in_office
				NOT = { has_global_flag = new_liberal_spanish_prime_minister_in_office }
			}
		}	
		visible = {
			has_completed_focus = SPR_conservative_majority
		}

		cost = 125
		days_re_enable = 50
		days_remove = 100
		modifier = {
			political_power_factor = -0.15
		}
		remove_effect = {
			add_stability = 0.05
			if = {
				limit = { 
					AND = {
						has_completed_focus = SPR_conservative_majority
						NOT = { has_completed_focus = SPR_centralization }
						NOT = { has_completed_focus = SPR_push_for_more_catholicism }
						NOT = { has_completed_focus = SPR_extensive_traditionalism_reforms }
					}
				}
				complete_national_focus = SPR_extensive_traditionalism_reforms
			}
			if = {
				limit = { 
					AND = {
						has_completed_focus = SPR_conservative_majority
						NOT = { has_completed_focus = SPR_centralization }
						NOT = { has_completed_focus = SPR_push_for_more_catholicism }
						has_completed_focus = SPR_extensive_traditionalism_reforms
					}
				}
				complete_national_focus = SPR_push_for_more_catholicsm
			}
			if = {
				limit = { 
					AND = {
						has_completed_focus = SPR_conservative_majority
						NOT = { has_completed_focus = SPR_centralization }
						has_completed_focus = SPR_push_for_more_catholicism
						has_completed_focus = SPR_extensive_traditionalism_reforms
					}
				}
				complete_national_focus = SPR_centralization
			}
		}
		priority = 6
	}
}

SPR_massive_strike_plans_category = {
	SPR_general_strike_deadline = { # Timer Until massive strike
		icon = GFX_decision_revolt
		allowed = {
			original_tag = SPR
		}  
		activation = {
			always = yes
			NOT = { 
				OR = { 
					has_completed_focus = SPR_success_in_containing_the_three_headed_crisis
				}
			}
		}
		available = {
			OR = { 
				has_completed_focus = SPR_arrest_signatories_of_the_manifesto
			}
		}
		priority = 100
		days_mission_timeout = 1000
		fire_only_once = yes
		is_good = no
		
		timeout_effect = {
			set_global_flag = catalonian_revolution		
			country_event = ww1_spain.8
		}
	}
	
	SPR_strikes_reform_one = { #Ease the workload
		icon = GFX_decision_eng_trade_unions_support
		allowed = {
			original_tag = SPR
		} 
		available = { 
			NOT = { has_global_flag = catalonian_revolution }
		}
		visible = {
			always = yes
		}
		cost = 75
		days_re_enable = 50
		days_remove = 100
		modifier = {
			industrial_capacity_factory = -0.1
		}
		remove_effect = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.03
			}
			add_popularity = {
				ideology = communism
				popularity = 0.03
			}
			add_stability = 0.05
		}
		
		priority = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				is_historical_focus_on = no
			}
		}
	}
	
	SPR_strikes_reform_two = { #Spend more on People
		icon = GFX_decision_generic_fundraising
		allowed = {
			original_tag = SPR
		}
		available = {
			always = yes
		}	
		visible = {
			always = yes
		}

		cost = 0
		days_re_enable = 50
		days_remove = 100
		modifier = {
			consumer_goods_factor = 0.05
		}
		remove_effect = {
			add_stability = 0.05
			add_political_power = -125
		}
		priority = 7
	}
	
	SPR_strikes_reform_three = { #Divert towards Nationalism
		icon = GFX_decision_generic_fundraising
		allowed = {
			original_tag = SPR
		}
		available = {
			always = yes
		}	
		visible = {
			always = yes
		}

		cost = 75
		days_re_enable = 50
		days_remove = 100
		modifier = {
			political_power_factor = -0.15
		}
		remove_effect = {
			add_stability = 0.05
			add_popularity = {
				ideology = neutrality
				popularity = 0.075
			}
		}
		priority = 7
	}
}

SPR_religious_policy_category = {
	
	SPR_increase_catholicsm = { 
		icon = GFX_decision_eng_trade_unions_support
		allowed = {
			original_tag = SPR
		} 
		available = {
			NOT = { has_completed_focus = SPR_replace_the_dominant_christian_type }
		}	
		visible = {
			NOT = { has_completed_focus = SPR_replace_the_dominant_christian_type }
		}
		cost = 75
		days_re_enable = 50
		complete_effect  = {
			IF = {
				limit = { has_idea = SPR_idea_strong_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_strong_catholicism
					add_idea = SPR_idea_catholic_nation
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_mild_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_mild_catholicism
					add_idea = SPR_idea_strong_catholicism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_weak_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_weak_catholicism
					add_idea = SPR_idea_mild_catholicism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_freedom_of_religion}
				swap_ideas = {
					remove_idea = SPR_idea_freedom_of_religion
					add_idea = SPR_idea_weak_catholicism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_secular_state }
				swap_ideas = {
					remove_idea = SPR_idea_secular_state
					add_idea = SPR_idea_freedom_of_religion
				}
			}
		}
		
		priority = 10
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				is_historical_focus_on = no
			}
		}
	}
	
	SPR_decrease_catholicsm = {
		icon = GFX_decision_generic_fundraising
		allowed = {
			original_tag = SPR
		}
		available = {
			NOT = { has_completed_focus = SPR_replace_the_dominant_christian_type }
		}	
		visible = {
			NOT = { has_completed_focus = SPR_replace_the_dominant_christian_type }
		}

		cost = 75
		days_re_enable = 50
		complete_effect  = {
			IF = {
				limit = { has_idea = SPR_idea_strong_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_strong_catholicism
					add_idea = SPR_idea_mild_catholicism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_mild_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_mild_catholicism
					add_idea = SPR_idea_weak_catholicism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_weak_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_weak_catholicism
					add_idea = SPR_idea_freedom_of_religion
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_catholic_nation }
				remove_ideas = SPR_idea_catholic_nation
				add_ideas = SPR_idea_strong_catholicism
			}
			IF = {
				limit = { has_idea = SPR_idea_freedom_of_religion }
				remove_ideas = SPR_idea_freedom_of_religion
				add_ideas = SPR_idea_secular_state
			}
		}
		
		priority = 7
	}
	
	SPR_increase_protestantism = { 
		icon = GFX_decision_generic_fundraising
		allowed = {
			original_tag = SPR
		}
		available = {
			has_completed_focus = SPR_replace_the_dominant_christian_type
		}	
		visible = {
			has_completed_focus = SPR_replace_the_dominant_christian_type
		}

		cost = 75
		days_re_enable = 50
		complete_effect  = {
			IF = {
				limit = { has_idea = SPR_idea_strong_protestantism }
				swap_ideas = {
					remove_idea = SPR_idea_strong_protestantism
					add_idea = SPR_idea_protestant_nation
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_mild_protestantism }
				swap_ideas = {
					remove_idea = SPR_idea_mild_protestantism
					add_idea = SPR_idea_strong_catholicism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_weak_protestantism }
				swap_ideas = {
					remove_idea = SPR_idea_weak_protestantism
					add_idea = SPR_idea_mild_protestantism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_freedom_of_protestantism}
				swap_ideas = {
					remove_idea = SPR_idea_freedom_of_protestantism
					add_idea = SPR_idea_weak_protestantism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_protestant_secular_state }
				swap_ideas = {
					remove_idea = SPR_idea_protestant_secular_state
					add_idea = SPR_idea_freedom_of_protestantism
				}
			}
		}
		
		priority = 4
	}
	
	SPR_decrease_protestantism = {
		icon = GFX_decision_generic_fundraising
		allowed = {
			original_tag = SPR
		}
		available = {
			has_completed_focus = SPR_replace_the_dominant_christian_type
		}	
		visible = {
			has_completed_focus = SPR_replace_the_dominant_christian_type
		}

		cost = 75
		days_re_enable = 50
		complete_effect  = {
			IF = {
				limit = { has_idea = SPR_idea_protestant_secular_state }
				swap_ideas = {
					remove_idea = SPR_idea_protestant_secular_state
					add_idea = SPR_idea_weak_protestantism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_freedom_of_protestantism }
				swap_ideas = {
					remove_idea = SPR_idea_freedom_of_protestantism
					add_idea = SPR_idea_weak_protestantism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_weak_protestantism }
				swap_ideas = {
					remove_idea = SPR_idea_weak_protestantism
					add_idea = SPR_idea_mild_catholicism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_mild_protestantism }
				swap_ideas = {
					remove_idea = SPR_idea_mild_protestantism
					add_idea = SPR_idea_strong_protestantism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_strong_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_strong_catholicism
					add_idea = SPR_idea_protestant_nation
				}
			}
		}
		
		priority = 3
	}
}




























