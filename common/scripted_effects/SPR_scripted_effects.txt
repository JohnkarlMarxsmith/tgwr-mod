scripted_effect_new_spanish_prime_minister = {
	hidden_effect = {
		random_list = {
			25 = {
				modifier = {
					factor = 0
					has_global_flag = SPR_alvaro_leaves_office
				}
				modifier = {
					factor = 0
					has_global_flag = liberal_prime_minister
				}
				country_event = { 
					id = ww1_spain.21 # Alvaro
					days = 7
				}
				set_global_flag = alvaro_chosen
			}
			25 = {
				modifier = {
					factor = 0
					has_global_flag = SPR_dato_leaves_office
				}
				modifier = {
					factor = 0
					has_global_flag = conservative_prime_minister
				}
				modifier = {
					factor = 0
					has_global_flag = dato_killed
				}
				country_event = { 
					id = ww1_spain.23 # Dato
					days = 7
				}
				set_global_flag = dato_chosen
			}
			25 = {
				modifier = {
					factor = 0
					has_global_flag = SPR_prieto_leaves_office
				}
				modifier = {
					factor = 0
					has_global_flag = liberal_prime_minister
				}
				modifier = {
					factor = 0
					has_global_flag = alvaro_chosen
				}
				country_event = { 
					id = ww1_spain.32 # Prieto
					days = 7
				}
			}
			25 = {
				modifier = {
					factor = 0
					has_global_flag = SPR_maura_leaves_office
				}
				modifier = {
					factor = 0
					has_global_flag = conservative_prime_minister
				}
				modifier = {
					factor = 0
					has_global_flag = dato_chosen
				}
				country_event = { 
					id = ww1_spain.34 # Maura
					days = 7
				}
				set_global_flag = maura_chosen
			}
			25 = {
				modifier = {
					factor = 0
					has_global_flag = manuel_leaves_office
				}
				modifier = {
					factor = 0
					has_global_flag = conservative_prime_minister
				}
				modifier = {
					factor = 0
					OR = {
						has_global_flag = dato_chosen
						has_global_flag = maura_chosen
					}
				}
				country_event = { 
					id = ww1_spain.37 # Manuel
					days = 7
				}
				set_global_flag = manuel_chosen
			}
			25 = {
				modifier = {
					factor = 0
					has_global_flag = sanchez_leaves_office
				}
				modifier = {
					factor = 0
					has_global_flag = conservative_prime_minister
				}
				modifier = {
					factor = 0
					OR = {
						has_global_flag = dato_chosen
						has_global_flag = maura_chosen
						has_global_flag = manuel_chosen
					}
				}
				country_event = { 
					id = ww1_spain.41 # Sanchez
					days = 7
				}
			}
		}
		clr_global_flag = alvaro_chosen
		clr_global_flag = dato_chosen
		clr_global_flag = maura_chosen
		clr_global_flag = manuel_chosen
	}
}

scripted_effect_increase_in_sold_colonies = {
	IF = {
		limit = {
			SPR = {
				NOT = {
					has_idea = SPR_idea_money_from_sold_colonies1
					has_idea = SPR_idea_more_money_from_sold_colonies2
					has_idea = SPR_idea_lots_more_money_from_sold_colonies3
					has_idea = SPR_idea_gorging_money_from_sold_colonies4
					has_idea = SPR_idea_reaping_money_from_sold_colonies5
					has_idea = SPR_idea_massive_money_from_sold_colonies6
					has_idea = SPR_idea_huge_money_from_sold_colonies7
				}
			}
		}
		add_timed_idea = {
			idea = SPR_idea_money_from_sold_colonies1
			days = 75
		}
		set_global_flag = SPR_flag_has_received_colony_money
	}
	
	IF = {
		limit = {
			SPR = {
				has_idea = SPR_idea_money_from_sold_colonies1
				NOT = { has_global_flag = SPR_flag_has_received_colony_money }
			}
		}
		remove_ideas = SPR_idea_money_from_sold_colonies1
		add_timed_idea = {
			idea = SPR_idea_more_money_from_sold_colonies2
			days = 115
		}
		set_global_flag = SPR_flag_has_received_colony_money
	}
	
	IF = {
		limit = {
			SPR = {
				has_idea = SPR_idea_more_money_from_sold_colonies2
				NOT = { has_global_flag = SPR_flag_has_received_colony_money }
			}
		}
		remove_ideas = SPR_idea_money_from_sold_colonies1
		remove_ideas = SPR_idea_more_money_from_sold_colonies2
		add_timed_idea = {
			idea = SPR_idea_lots_more_money_from_sold_colonies3
			days = 150
		}
		set_global_flag = SPR_flag_has_received_colony_money
	}
	IF = {
		limit = {
			SPR = {
				has_idea = SPR_idea_lots_more_money_from_sold_colonies3
				NOT = { has_global_flag = SPR_flag_has_received_colony_money }
			}
		}
		remove_ideas = SPR_idea_money_from_sold_colonies1
		remove_ideas = SPR_idea_more_money_from_sold_colonies2
		remove_ideas = SPR_idea_lots_more_money_from_sold_colonies3
		add_timed_idea = {
			idea = SPR_idea_gorging_money_from_sold_colonies4
			days = 200
		}
		set_global_flag = SPR_flag_has_received_colony_money
	}
	IF = {
		limit = {
			SPR = {
				has_idea = SPR_idea_gorging_money_from_sold_colonies4
				NOT = { has_global_flag = SPR_flag_has_received_colony_money }
			}
		}
		remove_ideas = SPR_idea_money_from_sold_colonies1
		remove_ideas = SPR_idea_more_money_from_sold_colonies2
		remove_ideas = SPR_idea_lots_more_money_from_sold_colonies3
		remove_ideas = SPR_idea_gorging_money_from_sold_colonies4
		add_timed_idea = {
			idea = SPR_idea_reaping_money_from_sold_colonies5
			days = 275
		}
		set_global_flag = SPR_flag_has_received_colony_money
	}
	IF = {
		limit = {
			SPR = {
				has_idea = SPR_idea_reaping_money_from_sold_colonies5
				NOT = { has_global_flag = SPR_flag_has_received_colony_money }
			}
		}
		remove_ideas = SPR_idea_money_from_sold_colonies1
		remove_ideas = SPR_idea_more_money_from_sold_colonies2
		remove_ideas = SPR_idea_lots_more_money_from_sold_colonies3
		remove_ideas = SPR_idea_gorging_money_from_sold_colonies4
		remove_ideas = SPR_idea_reaping_money_from_sold_colonies5
		add_timed_idea = {
			idea = SPR_idea_massive_money_from_sold_colonies6
			days = 350
		}
		set_global_flag = SPR_flag_has_received_colony_money
	}
	IF = {
		limit = {
			SPR = {
				has_idea = SPR_idea_massive_money_from_sold_colonies6
				NOT = { has_global_flag = SPR_flag_has_received_colony_money }
			}
		}
		remove_ideas = SPR_idea_money_from_sold_colonies1
		remove_ideas = SPR_idea_more_money_from_sold_colonies2
		remove_ideas = SPR_idea_lots_more_money_from_sold_colonies3
		remove_ideas = SPR_idea_gorging_money_from_sold_colonies4
		remove_ideas = SPR_idea_reaping_money_from_sold_colonies5
		remove_ideas = SPR_idea_massive_money_from_sold_colonies6
		add_timed_idea = {
			idea = SPR_idea_huge_money_from_sold_colonies7
			days = 450
		}
		set_global_flag = SPR_flag_has_received_colony_money
	}
}

scripted_effect_two_party_shenanigans = {
	IF = {
		limit = {
			has_completed_focus = SPR_extensive_legislative_reforms
			NOT = {
				OR = {
					has_completed_focus = SPR_religous_freedom
					has_completed_focus = SPR_seperation_of_powers
				}
			}
		}
		IF = {
			limit = { NOT = { has_global_flag = longlasting_policies } }
			IF = {
				limit = { NOT = { has_global_flag = new_liberal_spanish_prime_minister_in_office } }
				uncomplete_national_focus = {
					focus = SPR_extensive_legislative_reforms
					uncomplete_children = no
					refund_political_power = no
				}	
			}
		}
	}
	
	IF = {
		limit = {
			has_completed_focus = SPR_religous_freedom	
			NOT = {
				OR = {
					has_completed_focus = SPR_extensive_legislative_reforms
					has_completed_focus = SPR_seperation_of_powers
				}
			}
		}
		IF = {
			limit = { NOT = { has_global_flag = longlasting_policies } }
			IF = {
				limit = { NOT = { has_global_flag = new_liberal_spanish_prime_minister_in_office } }
				uncomplete_national_focus = {
					focus = SPR_religous_freedom
					uncomplete_children = no
					refund_political_power = no
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_strong_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_strong_catholicism
					add_idea = SPR_idea_catholic_nation
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_mild_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_mild_catholicism
					add_idea = SPR_idea_catholic_nation
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_weak_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_weak_catholicism
					add_idea = SPR_idea_strong_catholicism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_freedom_of_religion}
				swap_ideas = {
					remove_idea = SPR_idea_freedom_of_religion
					add_idea = SPR_idea_mild_catholicism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_secular_state }
				swap_ideas = {
					remove_idea = SPR_idea_secular_state
					add_idea = SPR_idea_weak_catholicism
				}
			}
		}
	}
	IF = {
		limit = {
			AND = {
				has_completed_focus = SPR_religous_freedom	
				has_completed_focus = SPR_extensive_legislative_reforms
			}
			NOT = {
				has_completed_focus = SPR_seperation_of_powers
			}
		}
		IF = {
			limit = { NOT = { has_global_flag = longlasting_policies } }
			IF = {
				limit = { NOT = { has_global_flag = new_liberal_spanish_prime_minister_in_office } }
				uncomplete_national_focus = {
					focus = SPR_religous_freedom
					uncomplete_children = no
					refund_political_power = no
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_strong_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_strong_catholicism
					add_idea = SPR_idea_catholic_nation
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_mild_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_mild_catholicism
					add_idea = SPR_idea_catholic_nation
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_weak_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_weak_catholicism
					add_idea = SPR_idea_strong_catholicism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_freedom_of_religion}
				swap_ideas = {
					remove_idea = SPR_idea_freedom_of_religion
					add_idea = SPR_idea_mild_catholicism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_secular_state }
				swap_ideas = {
					remove_idea = SPR_idea_secular_state
					add_idea = SPR_idea_weak_catholicism
				}
			}
		}
	}
	IF = {
		limit = {
			has_completed_focus = SPR_seperation_of_powers
		}
		IF = {
			limit = { NOT = { has_global_flag = longlasting_policies } }
			IF = {
				limit = { NOT = { has_global_flag = new_liberal_spanish_prime_minister_in_office } }
				uncomplete_national_focus = {
					focus = SPR_seperation_of_powers
					uncomplete_children = no
					refund_political_power = no
				}
			}
		}
	}
	IF = {
		limit = {
			has_completed_focus = SPR_extensive_traditionalism_reforms
			NOT = {
				OR = {
					has_completed_focus = SPR_centralization
					has_completed_focus = SPR_push_for_more_catholicism
				}
			}
		}
		IF = {
			limit = { NOT = { has_global_flag = longlasting_policies } }
			IF = {
				limit = { has_global_flag = new_conservative_spanish_prime_minister_in_office }
				uncomplete_national_focus = {
					focus = SPR_extensive_traditionalism_reforms
					uncomplete_children = no
					refund_political_power = no
				}
			}
		}
	}
	IF = {
		limit = {
			has_completed_focus = SPR_centralization
			NOT = {
				OR = {
					has_completed_focus = SPR_extensive_traditionalism_reforms
					has_completed_focus = SPR_push_for_more_catholicism
				}
			}
		}
		IF = {
			limit = { NOT = { has_global_flag = longlasting_policies } }
			IF = {
				limit = { NOT = { has_global_flag = new_conservative_spanish_prime_minister_in_office } }
				uncomplete_national_focus = {
					focus = SPR_centralization
					uncomplete_children = no
					refund_political_power = no
				}
			}
		}
	}
	IF = {
		limit = {
			AND = {
				has_completed_focus = SPR_extensive_traditionalism_reforms
				has_completed_focus = SPR_centralization
			}
			NOT = {
				has_completed_focus = SPR_seperation_of_powers
			}
		}
		IF = {
			limit = { NOT = { has_global_flag = longlasting_policies } }
			IF = {
				limit = { NOT = { has_global_flag = new_conservative_spanish_prime_minister_in_office } }
				uncomplete_national_focus = {
					focus = SPR_centralization
					uncomplete_children = no
					refund_political_power = no
				}
			}
		}
	}
	IF = {
		limit = {
			has_completed_focus = SPR_push_for_more_catholicism
		}
		IF = {
			limit = { NOT = { has_global_flag = longlasting_policies } }
			IF = {
				limit = { NOT = { has_global_flag = new_conservative_spanish_prime_minister_in_office } }
				uncomplete_national_focus = {
					focus = SPR_push_for_more_catholicism
					uncomplete_children = no
					refund_political_power = no
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_strong_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_strong_catholicism
					add_idea = SPR_idea_weak_catholicism
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_mild_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_mild_catholicism
					add_idea = SPR_idea_freedom_of_religion
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_weak_catholicism }
				swap_ideas = {
					remove_idea = SPR_idea_weak_catholicism
					add_idea = SPR_idea_secular_state
				}
			}
			IF = {
				limit = { has_idea = SPR_idea_catholic_nation }
				remove_ideas = SPR_idea_catholic_nation
				add_ideas = SPR_idea_mild_catholicism
			}
			IF = {
				limit = { has_idea = SPR_idea_freedom_of_religion }
				remove_ideas = SPR_idea_freedom_of_religion
				add_ideas = SPR_idea_secular_state
			}
		}
	}
}

